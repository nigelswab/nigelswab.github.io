[{"authors":["admin"],"categories":null,"content":"","date":-62135596800,"expirydate":-62135596800,"kind":"term","lang":"en","lastmod":1650672440,"objectID":"2525497d367e79493fd32b198b28f040","permalink":"https://nigelswab.github.io/authors/admin/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/authors/admin/","section":"authors","summary":"","tags":null,"title":"Nigel Swab","type":"authors"},{"authors":[],"categories":[],"content":"Disclaimer: This was internal documentation that has been converted from Zaber\u0026rsquo;s internalwiki. Some information may have been removed, and references to other wiki pages are not publicly available. This page may also contain some odd formatting.\nDev/R-Test and Fixture/LRT Thrust Speed/2021-08-06 - Thrust Speed High Speed Load Logging Investigation    Product R-Test and Fixture     Test Attributes Thrust   Tester Nigel   Plan Reviewed by Nathan P   Report Reviewed by Nathan P   Test Date 2021-08-06    Abstract   While improving our thrust testing setup, we decided to evaluate how peak thrust for a given test speed is determined It was found that an average thrust from a successful pass provides a more representative peak thrust value than the minimum thrust from a successful pass given cyclical thrust fluctuations  It was also found that the LRT Thrust Tester provided less thrust fluctuation than the LST Thrust tester, essentially eliminating larger thrust oscillations   It\u0026rsquo;s recommended that the testing team continue to log high speed thrust passes to gather more data and investigate any odd fluctuations further  Background   We are currently in the process of improving our thrust speed tester/setup Currently, the maximum thrust for a given speed is determined by taking the minimum load recorded in a successful thrust pass  However, this may not be an ideal way of determining a stages thrust capacity at a given speed Therefore, the standard thrust speed script was modified to create \u0026ldquo;high speed logs\u0026rdquo; of the recorded load cell reading and elapsed time throughout the loop in the \u0026ldquo;move_and_detect_stall\u0026rdquo; method  Results of the highest recorded successful pass, and the stalling pass, will be published in Resulty Depending on results, future modifications to the script may be made to include the ability to record high speed logs of either successful or stalling passes based on the settings defined by the config file     The LRT thrust tester has been modified to resemble the LST thrust tester (converted to peripheral) and now uses the same Python script  LRT\u0026rsquo;s should provide improved thrust testing capacity (speed, load, and travel) over the LST\u0026rsquo;s It may be interesting to evaluate if there is any difference between load variation on the LRT vs. the LST thrust tester    Purpose  To gather data and evaluate the determination of maximum thrust in our thrust_speed.py scripts\nMethod  Equipment \r\r\r\rTest Equipment\r\r\r\rDevices:\r\r\rX-LSM200B-E03 - 55350\r\r\rX-LSQ150D-E01 - 60493\r\r\rX-LSQ600A-E01 - 50144\r\r\r\rFirmware\r\r\rLSM - 6.32.1601\r\r\rLSQ - 7.22.10079\r\r\r\rLoad Cell:\r250 lbs\r\rSpring Assembly #:\r\r\rLSM200B: # 3 - 120 N\r\r\rLSQ150D: # 3 - 120 N\r\r\rLSQ600A: #1 - 817 N\r\r\r\rPower Supply:\rWhite BK Precision\r\r\r\rSettings \r\r\r\rTest Settings\r\r\r\rClosed Loop:\rEnabled\r\rRun current:\rdefault\r\rTest Voltage (V):\r48 V\r\rThrust limit (N):\rSpring Maximum\r\rSpeed range (mm/s):\r\r\rLSM: 2 - 100\n\r\r\r\rLSQ150D: 2 - 100\n\r\rLSQ600A: 2 - 53\n\r\r\rNumber of data points:\r10\r\rStarting Force:\r5 N\r\rFine Force Increment:\r1 N\r\r\r\rCode  thrust_speed.py  Initial testing done/based off of LRT_thrust_high_speed branch with the commit hash of 78b8084b9a308a551bac0a268c6cc60abc716baf   Default LST Thrust Speed Config.yaml  Procedure Note: I was unable to export this section from the wiki\n\r\rTest Setup\r\r\r\rResults and Analysis   To view the raw data from this report, search this page\u0026rsquo;s heading (Dev/R-Test and Fixture/LRT Thrust Speed/2021-08-06 - Thrust Speed High Speed Load Logging Investigation) in Resulty  Initial Testing  Initial testing showed cyclical fluctuations around a fairly consistent thrust value at each speed.  It was noted that these fluctuations were larger than desired, especially for the LSM, spurring further investigation   It was also found that the recording speed through a thrust pass was too slow (0.2-0.4 seconds between readings)  As a result, the thrust_speed.py script was re-worked to increase reading speed A normalized* thrust column was also added to aid with future comparisons/evaluations  Thrust was normalized by dividing each recorded thrust value by that passes average thrust value (not actual normalization)   Position of the stage was also added to the recorded value to aid with comparisons and evaluations    Details and Plots for Initial Testing  Initial tests with the LST Thrust Tester show that load varies fairly significantly throughout a run, but tends to vary around a fairly consistent level  This means that an average of the pass, especially at lower speeds, is likely a better representation of the stages capabilities This also means that it may be worth investigating methods to smooth/dampen the load variation throughout a pass  Too much fluctuation in load may cause premature stalls and result in lower representative results     Initial testing also showed that stalls happened primarily at the start of the pass  These were all stage stalls, not load cell readings out of the threshold This could be due to stalling during acceleration (in which case, acceleration can be decreased to attain sustained thrust) This could also be due to simply overloading the stage, causing it to stall right away as it\u0026rsquo;s limit has been reached   Subsequent testing was done with 5 data/speed points to reduce testing time and data \u0026ldquo;spam\u0026rdquo; in Resulty It\u0026rsquo;s also notable that time between measurements is 0.2-0.4 seconds, which is much longer than ideal (as seen in LSQ150D testing)  This could lead to inaccurate or inconsistent measurements This could also pose a problem for preventing damage to stages and load cells when stage stall detection is delayed The script was updated/optimized for recording speed, as detailed in Dev/R-Test and Fixture/LRT Thrust Speed#2021-08-09 - Move and Detect Stall Optimization The faster script was used for all testing after the initial LSQ150D testing   It\u0026rsquo;s likely reasonable to return the average load from a thrust pass that hasn\u0026rsquo;t stalled (instead of the minimum value)  Cyclical Fluctuation Investigation - LST Thrust Tester  Tests were run with the updated thrust_speed.py script (with improved recording speed, normalized thrust values, and stage position readings) It was found that the oscillations in thrust strongly correlate with stage position for the LSM200B and LSQ600A  However, the larger oscillation\u0026rsquo;s frequency (relative to position) don\u0026rsquo;t seem to directly correlate with stage pitch Interestingly, the LSQ150D also showed a larger frequency at low speeds that wasn\u0026rsquo;t seen at any other speed or stage    LST Thrust Tester Speed Comparison\n \r\r\rLSM200B\r\r\r\r \r\rLSQ150D\r\r\r\r \r\rLSQ600A\r\r\r\r \n  As can be seen below, it appears that the LSM200B and LSQ600A have a similar oscillations relative to stage position\n This suggests that the thrust tester may be the cause of these oscillation    \r\rLST Thrust Tester Stage Comparison\r\r\r\r It was also confirmed that the springs did not have a large effect on oscillations:  \r\rSpring Assembly Comparison\r\r\r\rCyclical Fluctuation Investigation - LRT Thrust Tester  When these tests were repeated on the LRT thrust tester, a noticeable improvement in thrust fluctuation can be seen on the LSM (with only ±~2% thrust vs. ±~7%)  Larger oscillations on the LSQ\u0026rsquo;s seem to also be removed/reduced, but with much less magnitude than the LSM The total span of thrust fluctuation actually remains fairly similar for the two LSQ\u0026rsquo;s, with a slight improvement on the LSQ150D   This further suggests that the larger oscillations seen previously were a result of the LST Thrust Tester However, there does seem to be some odd random fluctuation occurring on the LSQ600A, causing a larger span of thrust fluctuation at lower speeds relative to the LST thrust tester  A follow-up (mini) investigation can be seen further below    LRT Thrust Tester Speed Comparison\n \r\r\rLSM200B\r\r\r\r \r\rLSQ150D\r\r\r\r \r\rLSQ600A\r\r\r\r \n  When comparing stages, there were no common frequencies were noticeable, suggesting that the LRT Thrust Tester does not introduce significant thrust fluctuation into the test results\n  Interestingly, thrust fluctuation frequency with respect to position seemed to be inversely correlated to leadscrew pitch\n  Honestly not sure what would be causing the fluctuations\n    \r\rLRT Thrust Tester Stage Comparison\r\r\r\rRandom Fluctuation in LSQ600A - Mini Investigation  I initially speculated that the odd fluctuation in thrust seen on the LRT Thrust Tester when testing the LSQ600A is caused by the thrust tester  This is only really based on the fact that nothing similar was present in the other stages tested on the LRT thrust tester However, the load is much higher for the LSQ600A, which may make a large difference   Thinking that it may be due to how the stage was mounted on the breadboard, I repeated the test with two mounting methods/mounting block positions     Method 1 Method 2     \r\r\r\r\r\r \r\r\r\r\r\r     However, it was found to have little to no effect on the results.  \r\rMounting Method Comparison\r\r\r\r Unfortunately, that brings me to the end of my co-op term, so further investigation will likely be needed  I would suggest that the testing team periodically records and analyses the high speed thrust logging while doing thrust tests in the future to gather more data   I have started a full travel test with LRT Thrust Tester position being recorded as well for more insight  Conclusion   It was found that using the average thrust from a successful pass likely provides a more representative peak thrust value for a stage than the lowest recorded thrust value  Changes in the script should be implemented to reflect this   It was also found that the LST thrust tester seemed to be introducing some larger cyclical thrust fluctuations  However, on the LRT thrust tester, there are only smaller fluctuations that are likely a combination of LRT thrust tester and test stage velocity stability.    Evaluation and Recommendations   High speed thrust passes should continue to be logged and monitored to gather more data  This may also provide insight on thrust    ","date":1628208000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1650672440,"objectID":"339ccdbdd45f3bf45044e798c36a465d","permalink":"https://nigelswab.github.io/project/thrust_tester_load_investigation/","publishdate":"2021-08-06T00:00:00Z","relpermalink":"/project/thrust_tester_load_investigation/","section":"project","summary":"  While improving our thrust testing setup, we decided to evaluate how peak thrust for a given test speed is determined It was found that an average thrust from a successful pass provides a more representative peak thrust value than the minimum thrust from a successful pass given cyclical thrust fluctuations It was also found that the LRT Thrust Tester provided less thrust fluctuation than the LST Thrust tester, essentially eliminating larger thrust oscillations It's recommended that the testing team continue to log high speed thrust passes to gather more data and investigate any odd fluctuations further  ","tags":["co-op","testing","data-analysis"],"title":"Thrust Tester Load Investigation","type":"project"},{"authors":[],"categories":[],"content":"Overview \r\rBlue Robotics\n\r\r\rDuring the Spring semester of 2021, four mechanical engineering students and I partnered with Blue Robotics , for our capstone project. This project encompassed the development of the first prototype of a seafloor imaging towfish that Blue Robotics has continued developing into a marketable product. Despite logistical complications caused by COVID-19, the team managed to build and test three prototypes in 98 days. The final prototype, the BlueFish, met the client\u0026rsquo;s requirements, though several areas of improvement and refinement were identified.\n\rClick here to see the full report.\nThe Problem \rTowfish are becoming more common in the hobby, science, and industrial communities and are used for many purposes, including pipeline monitoring, seafloor exploration or mapping, water quality monitoring, national defence, and more. Mounting a camera or imaging sonar to a towfish, as done in this project, improves image quality over a vessel mounted system since towfish are unaffected by waves on the surface. Adding depth and altitude control to the towfish further increases stability and image quality while enabling varying degrees of resolution. Currently, towfish with dynamic depth control do not exist on the market and alternatives are not affordable.  \r\rBlueFry I with the Final BlueFish Prototype\rThe first BlueFish prototype, named BlueFry I, was designed to fit in a Mazda Miata with the BlueBoat.\n\r\r\r \nObjectives \rSeveral objectives were identified early in the project and given varying weights of importance after consulting with our client, Blue Robotics. Some of these objectives included:\n Depth control - ± 0.25 m Response Frequency - \u0026lt; 0.5 Hz Pitch Control - ±3° Roll Control - ±3° Altitude - 1-10 m from the sea/lake floor Depth rating - 100 m Bill of Materials - $320-$400 (USD)  \rFull requirements and objectives documentation here.  \r\rBlueFry I with a BlueBoat Prototype\rThe first BlueFish prototype, named BlueFry I, was designed to fit in a Mazda Miata with the BlueBoat. This was done to ensure that end users could easily transport the equipment without needing to disassemble either product without a large vehicle.\n\r\r\r \nMy Role \rThroughout the project, major tasks were often split between two members with one member taking primary responsibility for the completion of the task and a second member providing support.\n Notable Primary Responsibilities:  I/O identification and specification Communications between laptop, Raspberry Pi, and Arduino Uno Electrical prototyping (breadboard prototypes, soldering, test jigs, etc.) Electronics packaging Electronics tray design and manufacturing Graphical User Interface (GUI)   Notable Secondary Responsibilities:  Control system programming and troubleshooting Circuit design and power requirements Engineering drawings Actuator transmission design Final testing and PID tuning  \r\rMe and BlueFish\r\r\r\r     The Designs \r\rFinal BlueFish Model (Exploded View)\r\r\r\rEarly in the project, one of my primary responsibilities was the specification of the electrical components and their interfaces. It was decided that for the purposes of this project, it would be best to use an Arduino Uno for the control logic of the BlueFish while data logging and communication to the BlueBoat or laptop would be done through a Raspberry Pi 3b+. Several sensors, lights, and actuators were also specified, many of which were designed and made by Blue Robotics. Collectively, this assembly was referred to as the FishGuts\n\r\r\rRough Wire Diagram\rA rough wiring diagram was made to establish a wire coloring scheme and serve as a visual aid when prototyping.\n\r\r\r \r\rFinal Wire Schematics\rAfter finalizing the electrical component specification and power requirement calculations, a wiring schematic was made.\n\r\r\r \nBefore designing and manufacturing the electronics tray, several prototype iterations were made to test and troubleshoot the electrical system. This step also allowed me to practice my soldering skills as each prototype iteration progressed.\n\r\r\rFishGuts Prototype 1\rThis prototype was largely made to test communication between all the electrical components (sensors, Arduino Uno, Raspberry Pi.\n\r\r\r \r\rFishGuts Prototype 2\rIn the second prototype, a small breadboard was attached to the Arduino Uno and wiring for the final prototype was beginning to be thought of while integration of all the electrical components was continuing to be worked on.\n\r\r\r \r\rFishGuts Prototype 3\rThis prototype was made to begin dry testing of a near-complete electrical system. This included pitching and tilting the test jig to test the response of the motors to the jig's change in orientation.\n\r\r\r \nNext, an electronics tray was designed and manufactured before assembling into the final BlueFish prototype. Several smaller components, such as the voltage converter, were not included in the CAD modal, but were allocated space during the design process, along with wire routing. As can be seen, the final assembly required tight packaging.\n\r\r\rE-Tray Model Top\r\r\r\r \r\rE-Tray Model Bottom\r\r\r\r \r\rE-Tray Top\r\r\r\r \r\rE-Tray Model Bottom\r\r\r\r \nLastly, I designed a GUI with PyQT5 so that users may communicate with the BlueFish and monitor data readings live. This was also made so that our group could quickly modify PID settings when testing and tuning the device. However, time constraints and a limitation of the python plotting library used prevented me from completing a working version of the live plotting feature. Nonetheless, the GUI worked well and allowed us to update the PID settings and retrieve data without having to extract the Blue Fish.\n\r\r\rBlueCommand GUI - Settings Tab\rThis tab allowed users to customize the log file naming and make notes about the test before pushing settings to th BlueFish (which also subsequently created a new CSV file for data logging).\n\r\r\r \r\rBlueCommand GUI - Data Plotting Tab\rWhile developing this feature, I was unaware that the python plotting library, matplotlib, required the figure to be created/updated in the main thread of the program. Upon finding this out during a test run, it was decided that live plotting was not enough of a priority to spend time refactoring this feature's code.\n\r\r\r \nThe Results \rThroughout the project, several experiments were done to test everything from the hydrodynamic stability to individual sensor validation. For major milestone tests, such as hydrodynamic testing, waterproof validation tests, and depth control tests, we created the test plans and reports found here .\nAlthough we intended to do more testing and PID tuning with the final assembly, logistical problems delayed the completion of the last BlueFish build and the availability of testing equipment. That being said, from preliminary testing, results look promising. The following videos show dry testing of the tilt correction and a wet test of the final BlueFish prototype.  Your browser doesn't support embedded videos, but don't worry, you can download it and watch it with your favorite video player!\r  Your browser doesn't support embedded videos, but don't worry, you can download it and watch it with your favorite video player!\r  \nAs shown above, final testing unfortunately only took place off of a dock, rather than with a boat. We were thus unable to get the BlueFish into a steady-state mode for extended periods of time. However, the graphs below show that in the brief steady-state conditions that were observable (~7-20 seconds elapsed time), the BlueFish was relatively stable given how little PID tuning done during testing.\n\r\r\rDepth\rWith a target depth of 0.5 meters below surface level, it can be seen that the BlueFish successfully dives from 0.3 m and retains an error of about ±0.1 m in depth. Given this was done with no PID tuning, this result was promising given the potential room for improvement with more control system development.\n\r\r\r \r\rRoll\rRoll remained between -1 and -5 degrees. The observed offset was theorized to be due to the method of towing the BlueFish from the edge of a dock, introducing a slight roll moment. However, without tuning the PID, the BlueFish still manages to obtain the ±3° of roll targeted in the objectives (neglecting the offset).\n\r\r\r \r\rPitch\rIn rough steady-state, the BlueFish maintained a pitch between -1° and 4°, suggesting that the BlueFish met the original design objectives. However, it's likely that proper buoyancy and PID tuning with a more consistent input speed (such as a boat) would provide improved results.\n\r\r\r \nConclusion and Recommendations Overall, the project was successful in creating a functional BlueFish prototype, along with documentation of its design, analysis, and testing. It was also found that the prototype met the client\u0026rsquo;s requirements. However, testing showed that there is plenty of room for further refinement of the mechatronic system and mechanical designs. Nonetheless, our team completed an initial prototype that was deemed worthy of continued development towards a marketable product.\nFuture Work While early results were promising, much more testing needs to be done on the BlueFish, especially at more representative depths while being towed by a boat. However, several areas of improvement were identified:\n The 3D printed nosecone and tail designs need to be modified to a split design suitable for vacuum casting.  With this split, mounting of several components, like the lights and camera, can be significantly simplified. Collectively, these changes will lower the final bill of materials cost   The Arduino could be replaced by a Pixhawk flight controller to better integrate with the rest of Blue Robotics' existing software and development architecture. Significant work should be done to tune the PID settings of the BlueFish as we were unable to spend time doing so during testing. The implementation of live data plotting should be modified to run in the main thread of the BlueCommand GUI. Camera integration needs to be finished to create photomosaics of the seafloor. The BlueCommand software still presents some bugs which need to be corrected, along with some small quality-of-life improvements.  \rClick here to see the full final report on this project, including more details on future work.\n","date":1619740800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1650672519,"objectID":"32baced5ed33c69218d82cbc3ac2d9cc","permalink":"https://nigelswab.github.io/project/autonomous-seafloor-imaging-towfish/","publishdate":"2021-04-30T00:00:00Z","relpermalink":"/project/autonomous-seafloor-imaging-towfish/","section":"project","summary":"During the Spring semester of 2021, four mechanical engineering students and I partnered with Blue Robotics, for our capstone project. This project encompassed the development of the first prototype of a seafloor imaging towfish that Blue Robotics has continued developing into a marketable product. Despite logistical complications caused by COVID-19, the team managed to build and test three prototypes in 98 days. The final prototype, the BlueFish, met the client's requirements, though several areas of improvement and refinement were identified.","tags":["featured","school","programming","python","design","mechatronics","C","electrical","teamwork"],"title":"Autonomous Seafloor Imaging Towfish","type":"project"},{"authors":[],"categories":[],"content":"Disclaimer: This was internal documentation that has been converted from Zaber\u0026rsquo;s internalwiki. Some information may have been removed, and references to other wiki pages are not publicly available. This page may also contain some odd formatting.\nDev/R-LSM/2021-03-13 - Recirculating Bearing Stiffness for Specs    Product R-LSM     Test Attributes Stiffness   Tester Nigel   Plan Reviewed by Nathan P   Report Reviewed by Nathan P   Test Date 2021/04/21    Abstract   The updated LSM design with recirculating bearings was tested for stiffness in pitch,roll, and yaw \r\rX-LSM025B\rThe previous generation LSM's used cam follower bearings, as shown here\n\r\r\r 5 stages were tested and all surpassed the recommended new specifications of 150 Nm/° All stiffness testing results show there should be no issues increasing stiffness specifications to 150 Nm/°  However, I suspect 150 Nm/° may be fairly conservative for properly torqued stage top bolts, especially in pitch    Background   The LSM has been redesigned with recirculating bearings The installed rails are not from our new supplier (that should in theory be better)  We are using the \u0026ldquo;best bad rail\u0026rdquo; we have with the expectation that the new rail will be as good or better When we get the production rail, we will exchange the rails in two stages and quickly retest them to confirm the specs from the old batch of rail are still valid.   While these stages are 99.5% production ready, anything fishy should be noted Mark has recommended updated specifications of 150 Nm/° here: https://iwiki.izaber.com/Dev/R-LSM/Recirculating_Bearing_Design#2021-05-07_Published_Stiffness_Specs Previous stiffness tests have been done with the new design consistently showing high stiffness:  https://iwiki.izaber.com/Dev/R-LSM/2020-07-28_-_Recirculating_Stiffness https://iwiki.izaber.com/Dev/R-LSM/2020-11-16_-_Recirculating_Bearing_Stiffness https://iwiki.izaber.com/Dev/R-LSM/2021-01-05_-_High_Pre-Load_Recirculating_Stiffness https://iwiki.izaber.com/Dev/R-LSM/2021-01-27_-_Loaded_Recirc_Mid-Lifetime_Stiffness    Purpose   Establish specs for the new LSM design with recirculating bearings  Method  Equipment    Test Equipment      Devices: See below   Load cell Omega 250 lb with U6 Labjack DAQ   Measurement Device: Heidenhain   Forcing Stage: A-LST0250A        LSM200B LSM200B LSM200B X-LSM200A X-LSM200A     Motor/Controller Assembly M-3PO TT-40 TC-14 WAC-47 T3-M4   Base Assembly R5-D4 ZZ-4Z T3-H8 R2-KT HK-47   Lead Screw C-21 0-0-0 2-1B FA-4 GH-7   Device Name M-3PO R5-D4 C-21 TT-40 ZZ-4Z 0-0-0 TC-14 T3-H8 2-1B WAC-47 R2-KT FA-4 T3-M4 HK-47 GH-7   Serial Number 4000000029 4000000030 4000000031 4000000032 4000000034    Settings    Test Settings      Repetitions: 3   Max Torque (Nm): 3   Move Increment (µm): 15    Code  torsional_stiffness.py Default_Stiffness_Config.yaml  Procedure Note: I was unable to export this section from the wiki \r\rPitch Stiffness Setup\r\r\r\r \r\rRoll Stiffness Setup\r\r\r\r \r\rYaw Stiffness Setup\r\r\r\r \nResults and Analysis   All stages exceeded 150 Nm/° in pitch, roll, and stiffness It was found that some stage tops had lower than spec torque on the bolts  Not all stage top bolts were checked for torque, therefore some results may be artificially low Only the bolded results below were found after stage top bolts were torque to the specified 0.6 Nm       Device Serial Pitch [Nm/°] Roll [Nm/°] Yaw [Nm/°]     4000000029 230.4 202.5 167.1   4000000030 228 181.2 232.7   4000000031 218.9 177.3 187   4000000032 234.3 156.5 199.2   4000000034 234.9 166.9 213.9   Statistics      MAX 234.9 202.5 232.7   MIN 218.9 156.5 167.1   Average 229.3 176.88 199.98   Std. Deviation 5.79 15.4 22.4    \r\r\rPitch Stiffness\r\r\r\r \r\rRoll Stiffness\r\r\r\r \r\rYaw Stiffness\r\r\r\r \nConclusion   All stages surpassed the recommended stiffness of 150 Nm/° These results, along with previous testing, suggest that 150 Nm/° stiffness would be a reasonable spec for pitch, roll, and yaw  Evaluation and Recommendations   As noted, a couple of the stages were found to have stage top bolts below specified torque  Only the stages that had initial results significantly lower than expected had their bolts re-torqued   Once final production models are being tested, it may be worth re-evaluating stiffness specs  I suspect that 150 Nm/° would be on the conservative side for properly torqued stage tops, especially in pitch   For future stiffness tests, it\u0026rsquo;s recommended that we use the laser cut breadboard blocks I made to consistently reposition the loading stage assembly (See below)  This saved me a lot of time once implemented due to the repetitive nature of testing 5 stages with 3 loading orientations This has been added to the procedures \r\rLaser Cut Breadboard Blocks\r\r\r\r    ","date":1615593600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1650672440,"objectID":"628663630fabb37f6da84842e477ccf8","permalink":"https://nigelswab.github.io/project/lsm-stiffness-test/","publishdate":"2021-03-13T00:00:00Z","relpermalink":"/project/lsm-stiffness-test/","section":"project","summary":"   The updated LSM design with recirculating bearings was tested for stiffness in pitch,roll, and yaw  5 stages were tested and all surpassed the recommended new specifications of 150 Nm/°  All stiffness testing results show there should be no issues increasing stiffness specifications to 150 Nm/°  I suspect 150 Nm/° may be fairly conservative for properly torqued stage top bolts, especially in pitch ","tags":["co-op","testing","data-analysis"],"title":"LSM Stiffness Test - Recirculating Bearing Stiffness for Specs","type":"project"},{"authors":[],"categories":[],"content":"Overview \r\rEarly Accelerated Wear Tester Prototype\r(details blurred to retain confidentiality)\n\r\r\rHigh-speed video is an integral part of prosthetic heart valve durability testing, especially given the updates in ISO 5840-1:2021 that place greater emphasis on leaflet kinematics. As such, one of my responsibilities while on co-op at Vivitro Labs was to design and specify a high-speed camera system for a new Accelerated Wear Tester (AWT) that could be efficiently transferred between testing units with consistent valve framing and image quality. By the end of my co-op term, I had specified a lens for aortic valves, designed and tested multiple camera mounting and lighting prototypes, and refined camera and light mounting designs. Although done in parallel, this project can be broken into two main components:\n Camera System - encompasses the specification of a lens and the design of mounting for an AOS PROMON U1000 high-speed video camera. \r(Full report on camera mounting here) Lighting System - includes the specification and layout of LEDs, collaboration on a PCB, and the design of mounting.  Background Medical devices can be vital to treating patients with cardiovascular disease; any failure can have life-altering consequences. Vivitro Labs is a company dedicated to reducing the risk to patients by developing cardiovascular device testing equipment, offering laboratory testing, and providing consulting services. While working at Vivitro as a Mechanical Engineering Co-op, my time was primarily spent contributing to the development of a new prosthetic heart valve durability tester.\nProsthetic Heart Valve Durability Testing \rDurability testing is one of the most inherently expensive and time-consuming processes of heart valve development. Testing must adhere to ISO 5840 and 17025 testing standards and demonstrate that prosthetics will remain functional for 200-400 million cycles under specific operational conditions. The use of Accelerated Wear Testers (AWT\u0026rsquo;s) reduces the time and cost of these tests.\nAlthough Vivitro currently sells an AWT, the HiCycle, design limitations and advances in the market have led them to begin developing a new AWT with cycling speeds 300-2100 BPM, or 5-35 Hz. While capable of higher speeds, cycle frequency is often limited by the valve; at least 95% of the cycles must have defined pressure differentials consistent with normotensive conditions for at least 5% of the cycle\u0026rsquo;s duration, and leaflet kinematics must be consistent with those observed in the hydrodynamic assessment.  \r\rGeneral Heart Valve Durability Testing Procedure\rHydrodynamic Assessment is done with more physiologically accurate speeds and conditions using equipment like Vivitro's Pulse Duplicator.\n\r\r\r \nThe Problem \rHigh-speed video is an important part of durability testing; footage of the heart valve must be regularly compared to footage taken in more physiologically accurate conditions when tuning an AWT, inspecting for damage, and observing the effects of wear. Therefore, providing a quick, consistent, and painless way to set up and record high-speed video on the new AWT was an important part of producing a compelling value proposition and positive user experience.  \r\rPreliminary Accelerated Wear Tester Model\rThe base configuration of the AWT comprises of six physical testing units, one high-speed camera, a controller, and a data acquisition box. This base configuration can also be customized to include more controllers and testing units as requested.\n\r\r\r \nObjectives \rYour browser doesn't support embedded videos, but don't worry, you can download it and watch it with your favorite video player!\r Silicon industrial valve (1/8\rth speed @ 60FPS)  Camera System\r Take less than one minute to remove and install between units\r Consistently locate the camera relative to the valve\r Cost less than 500 USD for small production runs of around 10 units (excluding camera and camera lens)\r Capture the full width and depth of any aortic or mitral valve with one lens \r\r Light System\r Sufficient light to illuminate a prosthetic heart valve when recording video at 817-1000 FPS\r Take less than 30 seconds to remove from a unit \r Illuminate the valve evenly with minimal shadows\r\r \nAdditional Considerations\rOne of the primary design objectives of the new AWT is to provide exceptional valve visibility\rCorrosive saline solution spills are common and expected throughout durability testing\rMost users will be working with latex gloves on in a small laboratory setting\r\rThe Designs After defining the design objectives and constraints, I created concept models using Solidworks while specifying a suitable lens for aortic valves. Since Vivitro also runs a testing lab, I was able to gain valuable feedback and insight from end users throughout the design process.\nCamera System \r\r\rAOS PROMON U1000\rBefore I joined Vivitro, the PROMON U1000 high-speed camera was specified for the new AWT.\n\r\r\r The specification of a camera lens and the design of the camera mounting were done in parallel since they were collectively responsible for ensuring that high-speed video of the prosthetic valves could be properly framed and recorded.  \nCamera Lens \rSeveral factors related to the camera, camera mounting, and prosthetic valves had to be considered when specifying a lens, including:\n  Object Distance Camera Resolution   F-stop/Aperture Focal Length   Depth of Field Width of Field   It was found that lenses capable of capturing both aortic and mitral valves were large and expensive. Since most customers tend to specialize in one of aortic or mitral valves, it was decided that a separate lens would be specified for each valve.  \rClick here for documentation on the aortic lens specification process.  \r\rVS-LDA20\rThe VS-LDA20 was chosen as the specified aortic valve lens. While remaining relatively inexpensive, this 20 mm focal length lens provided enough adjustability to capture the full width and depth of field for all aortic valves when used in combination with the camera mount's vertical adjustability\n\r\r\r \nCamera Mounting While specifying lenses, I generated several design concepts with SolidWorks and reviewed them with the R\u0026amp;D and lab testing teams. A number of these concepts can be seen below, including one with three variations: \r\rConcept 1 - Pillow Block\rAn aluminum rod is clamped by two pillow blocks that are mounted to the AWT's lower valve chamber. This concept was developed so that the camera could also be mounted below the valve, an objective was removed after a discussion with lab staff revealed how infrequently this was needed.\n\r\r\r \r\rConcept 2A - Top Mounted (18mm)\rThis concept features base plate connector clamps mounted to each testing unit and an 18 mm rod that slots into each unit's back chamber. The intent behind this approach was for users to simply undo the base clamp and move the rod and camera together.\n\r\r\r \r\rConcept 2B -Top Mounted (20mm)\rA combination of concern for mounting rigidity when exposed to the AWT's vibrations, and the existence of a camera mounting bracket at Vivitro compatible with 20 mm rods led me to design a variation of 2A with this base connector clamp and a 20 mm rod.\n\r\r\r \r\rConcept 2C - Back Mounted (18mm)\rThis version of Concept 2 opts for a flanged connector clamp mounted to the rear of the back chamber, but is functionally similar to concepts 2A and 2B. This design was created to offer an option that could be used with Vivitro's Pulse Duplicatorwith minor modifications.\n\r\r\r \r\rConcept 3 - Automated Stage\rBy employing an automated stage, this option presents an ideal user experience. However, this concept was likely prohibitively expensive and difficult to execute in a way that allows the same level of modularity that the new AWT architecture will offer.\n\r\r\r \nAfter several design reviews and concept iterations, it was decided that each variation of Concept 2 would be refined and made into prototypes for testing. Additionally, feedback from a Test Engineer on vertical camera adjustment led me to introduce a Novoflex focusing rack as the primary method of adjusting the camera\u0026rsquo;s height. Lastly, I found the approximate natural frequency of the camera system, camera and Novoflex included, using hand calculations and a Solidworks simulation.\n\r\r\rNovoflex CASTEL-MINI II Focusing Rack\rThis manual focusing rack allows for easy and consistent camera height alteration that cover the full range of adjustment needed for most aortic valve sizes with the lens specified above.\n\r\r\r \r\rRefined Concept 2A Model\rAs can be seen, the Novoflex focusing rack was integrated and a bracket that clamps onto the rod was designed.\n\r\r\r  \r\rConcept 2A SolidWorks Simulation\rThe undamped natural frequency of the camera system was calculated to be ~117 Hz, while the SolidWorks simulation resulted in ~119 Hz (camera and Novoflex mass lumped into the bracket's weight).\n\r\r\r \nLighting System \r\r\rCree XLamp XM-L2 LED\rThis LED was choosen for its high luminosity and thermal efficiency.\n\r\r\r Each frame\u0026rsquo;s exposure time is extremely short when recording high-speed video; the higher the frame-rate, the more light required to capture clear images. To ensure the AWT had sufficient lighting for video recording at 1000 FPS, an electrical engineering co-op student and I collaborated on the design and implementation of a lighting system.  \nLight Mounting Working together on form factor, the other co-op student designed the PCB while I primarily focused on its mounting. Much like with camera mounting, a number of concepts were generated and reviewed.\n\r\r\rConcept 1 - Simple Ring\rAttaching to a bracket for modularity, this concept was kept relatively simple to allow for the majority of machining to take place in one operation on a lathe. This concept was made out of aluminum and was inteded to act as a heat sink for the PCB.\n\r\r\r \r\rConcept 2 - Camera System Mounted\rClamping onto the camera mounting rod, this concept was designed to be vacuum cast out of acetyl and moved between testing units with the high-speed camera.\n\r\r\r \r\rConcept 3 - Valve Chamber Mounted\rResting on the top of the angled valve chamber, this concept was designed to be vacuum cast out of acytal much like Concept 2. However, this design was made with the intent of outfitting a light to each testing unit.\n\r\r\r \nWhile concept 1 was designed to be made using conventional machining methods, concepts 2 and 3 were originally designed for 3D printing. However, once it was decided that concepts 2 and 3 would be made for testing, the designs were modified to be compatible with conventional machining methods and vacuum casting at production scale.\nHeat Management \r\r\rLight Ring PCB Model\rThis PCB was made with 6 and 12 LED variations.\n\r\r\r Given the intensity of the light being generated, the electrical engineering co-op and I also worked on design considerations for managing the heat created by the LED\u0026rsquo;s. We used thermal pad kickouts in conjunction with an aluminum backing board to help distribute and dissipate heat. Additionally, the light mounting included cutouts that expose the PCB backing to the air to aid with heat dissipation. However, to reduce the potential for burns, these cutouts were made too small for fingers to fit through.  \nThe Results Prototypes of each camera mounting concept, along with each light mounting, were successfully manufactured and assembled. \r\rAWT Prototype with Light Mount Concept 2\rCamera Mounting: Concept 2A Light Mounting: Concept 2\n\r\r\r \r\rLight Mounting Prototypes\rConcept 2 (left) and Concept 3 (Right)\n\r\r\r \r\rAWT with Light Mount Concept 3\rCamera Mounting: Concept 2A Light Mounting: Concept 3\n\r\r\r \nField Width and Depth of Field To confirm that the camera lens, focusing rack, and lighting were collectively capable of capturing the full range of aortic valve sizes, a test marker was designed and 3D printed with the largest and smallest expected diameters and depths of prosthetic aortic valves. As can be seen by the frames taken from a high-speed video recording below, the camera mounting system provides sufficient adjustability to capture the full range of aortic valves.\n\r\rField Width and Depth of Field Test Results\rThe AOS focusing tool overlay highlights details deemed to be in-focus. As can be seen, both the high points (the edges of each ring), and the base are within focus, confirming that there's sufficient depth of field.\n\r\r\rSince prosthetic mitral valve dimensions tend to vary less than those of aortic valves, it was determined that the camera mounting system provided sufficient adjustability to also accommodate most mitral valves, given a properly specified lens.\nCamera Transfer Speed and Frame Repeatability Testing of the camera mounting system\u0026rsquo;s transfer speed and frame repeatability was done in parallel.\n It was found that it took an average of 42 seconds over five tests to remove and re-install the camera. It was also found that the camera mounting system reliably located the camera relative to the test valve, as shown below.  \r\r\rFrame Location Repeatability Test Results\rThe red marker remained on the same pixels for all repeatability testing. Since there is only one prototype unit, the potential for tolerance stack-up between components could not be tested, however, the maximum offset due to this was calculated to be 1 mm, or 0.05% of a small aortic valve’s diameter. Therefore, it was determined that tolerance stack-up is not a large concern, especially relative to the tolerances on the valve holders.\n\r\r\rImage Stability To test the stiffness/stability of the camera mounting system, the AWT was set to frequencies between 10 and 35 Hz in 5 Hz steps. Since the AWT’s natural frequency was found to be 22Hz, this frequency was also tested. Given time constraints, I was unable to quantify the amplitude of vibrations captured in high-speed video. Therefore, qualitative notes were taken and summarized below. All configurations failed to provide adequate stability throughout the expected operational range.\n   Excitation Frequency (Hz) Standard 18 mm Configuration 18mm Rod with Pulse Duplicator Bracket 20 mm Rod with Pulse Duplicator Bracket     10 Stable Stable Stable   15 Fairly stable Fairly stable Fairly stable   20 Somewhat stable Somewhat stable Somewhat stable   22 Small vibration noticeable Small vibration noticeable Somewhat stable   25 Vibration noticeable Vibration noticeable Small vibration noticeable   30 Significant vibration noticeable Significant vibration noticeable Vibration Visible   35 Significant vibration noticeable Significant vibration noticeable Significant vibration noticeable    Cost When ordering prototype parts, quotes for a low-production run of 10 AWT\u0026rsquo;s with the base configuration of six testing units were acquired. While the final cost is well below the goal of $500, it\u0026rsquo;s worth noting that the camera mounting adapter and rod designs will be simplified for the final product, further reducing costs.\n   Part Cost (USD)     Novoflex CASTEL-Mini II Focusing Rack $ 200.00   GN 162-B18-2-BL - Flanged Bracket $ 17.56   AWT – High Speed Camera Mounting Plate $ 35.35   AWT – High Speed Camera Mount Adapter $ 75.09   AWT – Camera Mounting Rod – 18mm $ 64.62   Total $ 392.61    Lighting Testing was then done to ensure the light ring could provide sufficient light to properly illuminate a dark test valve at 1000 FPS and f-stop 16. Additionally, temperatures were monitored to ensure the PCB remains sufficiently cool while operating with its maximum light output.\n\r\r\rBovine Tissue Aortic Valve - 12 LED Ring\rBoth 6 and 12 LED light rings provided sufficient light (with no shadows) to view prosthetic valve details with the least favorable camera setup for light. \r\r\r \r\rIR Camera Readings\rPeak temperatures were monitored using a FLIR IR camera. Notice that while the PCB backing is quite hot, the mounting remains cool enough to comfortably handle.\n\r\r\r  \r\rAfter 30 minutes of operation in a room ~22.8 °C, temperatures appeared to stabilize around 109 °C.\n\r\r\r \r\rAfter the light was turned off, the PCB's temperature rapidly declined, reaching ambient temperature in around 15 minutes.\n\r\r\r \nAs can be seen above, while PCB temperatures remained low enough to avoid damaging the acetyl mounts, they still rose fairly high. However, the light output tested is rarely required for even high-speed video capture, thus it is unlikely that the peak temperatures seen will even be approached in normal operation. Nonetheless, it was advised that a timer be programmed to turn off the lights when operating at high output for over 10-15 minutes to reduce the risk of a fire or AWT damage.\nConclusion and Recommendations Following the testing of the camera and lighting systems, along with the first AWT prototype, I worked with another engineer to introduce several modifications to the design of all three. The major changes to the camera and light mounting are summarized below:\n Updates to the design of the AWT significantly reduced the required camera mounting rod length, improving image stability.  This also meant that the same camera mounting prototype could be used to test camera stability. The 18 mm rod variant of Concept 2 was chosen and its mounting location on the AWT was centered.   It was decided that each AWT testing unit will come with a dedicated light, so the Concept 3 (chamber mounted) design was refined.  Updates to the AWT\u0026rsquo;s valve chamber allowed the light ring mount to be simplified to a ring with three locating nubs and a flat. Black acetyl was chosen in response to the amount of light that bled through the white acetyl prototypes.    \r\r\rRefined Camera Mounting Prototype Model\rSome vertical adjustability beyond the Novoflex focusing rack left to allow for easy handling and modularity.\n\r\r\r \r\rRefined Light Mount Prototype Model\rIt was decided that each testing unit should get a light, thus the chamber mounted concept (Concept 3) was refined and modified to interface with the updated AWT valve chamber.\n\r\r\r \r\rRefined Light Mount Prototype\rThe refined light mount was made after I left Vivitro. However, I was told it worked well.\n\r\r\r \nWithin the last week of my co-op, we successfully submitted drawings to a manufacturer to be made over the holiday break. Additionally, before leaving, I calculated and suggested a target spring rate for vibration isolating feet to reduce the amplitude of vibrations observed by the AWT when in operation, especially at 22 Hz.\n\rFull report on camera mounting here\n","date":1609372800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1650672519,"objectID":"db7fda12da659a558c98fc0990e05304","permalink":"https://nigelswab.github.io/project/heart-valve-highspeed-camera-system/","publishdate":"2020-12-31T00:00:00Z","relpermalink":"/project/heart-valve-highspeed-camera-system/","section":"project","summary":"High-speed video is an integral part of prosthetic heart valve durability testing, especially given the updates in ISO 5840-1:2021 that place greater emphasis on leaflet kinematics. As such, one of my responsibilities while on co-op at Vivitro Labs was to design and specify a high-speed camera system for a new Accelerated Wear Tester (AWT) that could be efficiently transferred between testing units with consistent valve framing and image quality By the end of my co-op term, I had specified a lens for aortic valves, designed and tested multiple camera mounting and lighting prototypes, and refined camera and light mounting designs.","tags":["featured","co-op","design","testing"],"title":"High-Speed Camera and Lighting System","type":"project"},{"authors":[],"categories":[],"content":"Welcome to Slides academia\n Features  Efficiently write slides in Markdown 3-in-1: Create, Present, and Publish your slides Supports speaker notes Mobile friendly slides   Controls  Next: Right Arrow or Space Previous: Left Arrow Start: Home Finish: End Overview: Esc Speaker notes: S Fullscreen: F Zoom: Alt + Click PDF Export: E   Code Highlighting Inline code: variable\nCode block:\nporridge = \u0026#34;blueberry\u0026#34; if porridge == \u0026#34;blueberry\u0026#34;: print(\u0026#34;Eating...\u0026#34;)  Math In-line math: $x + y = z$\nBlock math:\n$$ f\\left( x \\right) = ;\\frac{{2\\left( {x + 4} \\right)\\left( {x - 4} \\right)}}{{\\left( {x + 4} \\right)\\left( {x + 1} \\right)}} $$\n Fragments Make content appear incrementally\n{{% fragment %}} One {{% /fragment %}}\r{{% fragment %}} **Two** {{% /fragment %}}\r{{% fragment %}} Three {{% /fragment %}}\rPress Space to play!\nOne \r**Two** \rThree \r A fragment can accept two optional parameters:\n class: use a custom style (requires definition in custom CSS) weight: sets the order in which a fragment appears   Speaker Notes Add speaker notes to your presentation\n{{% speaker_note %}} - Only the speaker can read these notes - Press `S` key to view {{% /speaker_note %}} Press the S key to view the speaker notes!\n Only the speaker can read these notes Press S key to view    Themes  black: Black background, white text, blue links (default) white: White background, black text, blue links league: Gray background, white text, blue links beige: Beige background, dark text, brown links sky: Blue background, thin dark text, blue links    night: Black background, thick white text, orange links serif: Cappuccino background, gray text, brown links simple: White background, black text, blue links solarized: Cream-colored background, dark green text, blue links   Custom Slide Customize the slide style and background\n{{\u0026lt; slide background-image=\u0026#34;/img/boards.jpg\u0026#34; \u0026gt;}} {{\u0026lt; slide background-color=\u0026#34;#0000FF\u0026#34; \u0026gt;}} {{\u0026lt; slide class=\u0026#34;my-style\u0026#34; \u0026gt;}}  Custom CSS Example Let\u0026rsquo;s make headers navy colored.\nCreate assets/css/reveal_custom.css with:\n.reveal section h1, .reveal section h2, .reveal section h3 { color: navy; }  Questions? Ask\nDocumentation\n","date":1549324800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1650672440,"objectID":"0e6de1a61aa83269ff13324f3167c1a9","permalink":"https://nigelswab.github.io/slides/example/","publishdate":"2019-02-05T00:00:00Z","relpermalink":"/slides/example/","section":"slides","summary":"An introduction to using academia's Slides feature.","tags":[],"title":"Slides","type":"slides"}]